{
  "$schema":"http://json-schema.org/draft-07/schema",
  "$id":"https://example.org/traffic-lines-schema.json",
  "$defs":{
    "langValue":{
      "anyOf":[
        {
          "type":"object",
          "required":[
            "cs"
          ],
          "properties":{
            "cs":{
              "type":"string"
            }
          }
        },
        {
          "type":"object",
          "required":[
            "en"
          ],
          "properties":{
            "en":{
              "type":"string"
            }
          }
        }
      ]
    }
  },
  "type":"object",
  "title":"Traffic Lines",
  "properties":{
    "@context":{
      "type":"object"
    },
    "@graph":{
      "type":"array",
      "items":{
        "anyOf":[
          {
            "type":"object",
            "title":"Traffic Line",
            "properties":{
              "@id":{
                "type":"string"
              },
              "type":{
                "type":"string"
              },
              "trafficLineId":{
                "type":"integer"
              },
              "transportType":{
                "type":"object",
                "title":"Transport Type",
                "properties":{
                  "@id":{
                    "type":"string"
                  },
                  "type":{
                    "type":"string"
                  }
                },
                "required":[
                  "@id",
                  "type"
                ]
              },
              "contains":{
                "type":"array",
                "title":"Traffic Line Stations",
                "items":{
                  "type":"object",
                  "properties":{
                    "@id":{
                      "type":"string"
                    },
                    "type":{
                      "type":"string"
                    },
                    "order":{
                      "type":"integer"
                    },
                    "minutesToNext":{
                      "type":"integer"
                    },
                    "hasStation":{
                      "type":"object",
                      "title":"Station",
                      "properties":{
                        "@id":{
                          "type":"string"
                        },
                        "type":{
                          "type":"string"
                        }
                      },
                      "required":[
                        "@id",
                        "type"
                      ]
                    }
                  },
                  "required":[
                    "@id",
                    "type",
                    "order",
                    "minutesToNext",
                    "hasStation"
                  ]
                },
                "minItems":2
              },
              "follows":{
                "type":"object",
                "title":"Departures",
                "properties":{
                  "@id":{
                    "type":"string"
                  },
                  "type":{
                    "type":"string"
                  },
                  "businessDay":{
                    "type":"array",
                    "title":"Business Day Departures",
                    "items":{
                      "type":"string",
                      "format":"time"
                    }
                  },
                  "saturday":{
                    "type":"array",
                    "title":"Saturday Departures",
                    "items":{
                      "type":"string",
                      "format":"time"
                    }
                  },
                  "sunday":{
                    "type":"array",
                    "title":"Sunday Departures",
                    "items":{
                      "type":"string",
                      "format":"time"
                    }
                  },
                  "holidays":{
                    "type":"array",
                    "title":"Holidays Departures",
                    "items":{
                      "type":"string",
                      "format":"date"
                    }
                  }
                },
                "required":[
                  "@id",
                  "type",
                  "businessDay",
                  "saturday",
                  "sunday",
                  "holidays"
                ]
              }
            },
            "required":[
              "trafficLineId",
              "transportType",
              "contains",
              "follows"
            ]
          },
          {
            "type":"object",
            "title":"Transport Type",
            "properties":{
              "@id":{
                "type":"string"
              },
              "type":{
                "type":"string"
              },
              "name":{
                "$ref":"#/$defs/langValue"
              }
            }
          }
        ]
      }
    }
  }
}